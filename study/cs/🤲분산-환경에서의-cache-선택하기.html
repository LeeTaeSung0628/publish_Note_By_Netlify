<!DOCTYPE html>
<html><head>
<title>🤲분산 환경에서의 Cache 선택하기</title>
<base href="../..">
<meta id="root-path" root-path="../..">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
<meta charset="UTF-8">
<meta name="description" content="blog - 🤲분산 환경에서의 Cache 선택하기">
<meta property="og:title" content="🤲분산 환경에서의 Cache 선택하기">
<meta property="og:description" content="blog - 🤲분산 환경에서의 Cache 선택하기">
<meta property="og:type" content="website">
<meta property="og:url" content="https://lts.kr/study/cs/🤲분산-환경에서의-cache-선택하기.html">
<meta property="og:image" content="undefined">
<meta property="og:site_name" content="blog">
<meta name="author" content="taesung's Blog"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://lts.kr/lib/rss.xml"></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon is-focused"><include src="lib/html/custom-head-content.html"></include><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:not(h1,h2,h3,h4,h5,h6):has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(const t of e){let e=t.getAttribute("src");try{const o=await fetch(e);if(!o.ok){console.log("Could not include file: "+e),t?.remove();continue}let l=await o.text(),n=document.createRange().createContextualFragment(l),c=Array.from(n.children);for(let e of c)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);t.before(n),t.remove(),console.log("Included file: "+e)}catch(o){t?.remove(),console.log("Could not include file: "+e,o);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><div class="search-input-wrapper"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="🤲분산 환경에서의 Cache 선택하기"><p dir="auto">🤲분산 환경에서의 Cache 선택하기</p></h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-p"><p dir="auto"><a href="?query=tag:%EA%B3%B5%EB%B6%80" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#공부">#공부</a> <a href="?query=tag:Redis" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#Redis">#Redis</a> <a href="?query=tag:Cash" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#Cash">#Cash</a> <a href="?query=tag:memory" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#memory">#memory</a> <a href="?query=tag:%EB%8B%A4%EC%A4%91%EC%84%9C%EB%B2%84" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#다중서버">#다중서버</a> <a href="?query=tag:%EC%9D%B8%EB%A9%94%EB%AA%A8%EB%A6%AC" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#인메모리">#인메모리</a></p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="▶ 분산 서버 환경에서 고려하고있는 **Cache** 전략들" dir="auto" class="heading" id="▶_분산_서버_환경에서_고려하고있는_**Cache**_전략들">▶ 분산 서버 환경에서 고려하고있는 <strong>Cache</strong> 전략들</h1><div class="heading-children"><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="question" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-help-circle"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><path d="M12 17h.01"></path></svg></div><div class="callout-title-inner">분산 서버란?</div></div><div class="callout-content">
<p dir="auto">"여러 대의 서버(컴퓨터)가 <strong>하나의 시스템처럼 동작</strong>하도록 구성된 환경."</p>
<ol>
<li data-line="3" dir="auto">사용자가 Web 브라우저로 접속</li>
<li data-line="4" dir="auto">로드밸런서가 여러 대 서버 중 하나로 요청 분배</li>
<li data-line="5" dir="auto">각 서버가 필요한 처리 수행</li>
<li data-line="6" dir="auto">공통 DB/캐시(Redis) 접근해서 데이터 읽기/쓰기</li>
</ol>
<p dir="auto">즉, Spring기반이라면 여러대의 JVM을 띄워놓고 사용자를 분배하는 환경이다!</p>
</div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="1. 레디스(redis)" dir="auto" class="heading" id="1._레디스(redis)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1. 레디스(redis)</h2><div class="heading-children"></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="2. 스티키 세션 전략(Sticky Session)" dir="auto" class="heading" id="2._스티키_세션_전략(Sticky_Session)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2. 스티키 세션 전략(Sticky Session)</h2><div class="heading-children"></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="3. 자바의 콘커런트 해쉬(ConcurrentHashMap)" dir="auto" class="heading" id="3._자바의_콘커런트_해쉬(ConcurrentHashMap)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3. 자바의 콘커런트 해쉬(ConcurrentHashMap)</h2><div class="heading-children"><div class="el-hr"><hr></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="▶ **분산 서버** 환경에서의 고려해야 할 점" dir="auto" class="heading" id="▶_**분산_서버**_환경에서의_고려해야_할_점">▶ <strong>분산 서버</strong> 환경에서의 고려해야 할 점</h1><div class="heading-children"><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th dir="ltr">문제</th>
<th dir="ltr">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td dir="ltr"><em>데이터 일관성 문제</em></td>
<td dir="ltr">여러 서버가 동시에 데이터 쓰면 충돌 가능 (ex: 동시성 제어 필요)</td>
</tr>
<tr>
<td dir="ltr"><em>네트워크 이슈</em></td>
<td dir="ltr">서버 간 통신 실패, 지연(latency) 발생 가능</td>
</tr>
<tr>
<td dir="ltr"><em>세션/상태 관리</em></td>
<td dir="ltr">Sticky Session, Redis 등 세션 상태관리 전략 필요</td>
</tr>
<tr>
<td dir="ltr"><em>장애 전파 위험성</em></td>
<td dir="ltr">하나의 장애가 전체 시스템에 파급될 수 있음</td>
</tr>
</tbody>
</table></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="▶ 각 **Cache**전략 별 설명" dir="auto" class="heading" id="▶_각_**Cache**전략_별_설명">▶ 각 <strong>Cache</strong>전략 별 설명</h1><div class="heading-children"><div class="el-br"><br></div><div class="el-h2 heading-wrapper"><h2 data-heading="1. Redis" dir="auto" class="heading" id="1._Redis"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1. Redis</h2><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p>분산 환경에서 공통으로 접근 가능한, 독립적인 "In-memory Key-Value 저장소" </p>
</blockquote></div><div class="el-pre"><pre><code data-line="0">Redis는 Remote Dictionary Server.  
메모리 기반의 초고속 데이터 저장소(DB처럼 사용 가능).
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>동작 원리:</strong>
<ul>
<li data-line="2" dir="auto">서버 여러 대(Spring 인스턴스들)가 <strong>공통된 Redis 서버</strong>에 네트워크를 통해 접속.<br>
</li>
<li data-line="4" dir="auto">각 인스턴스는 키를 통해 Redis에 데이터 저장/조회.<br>
</li>
<li data-line="6" dir="auto">Redis는 데이터를 메모리에 저장하여 매우 빠른 읽기/쓰기 성능 제공.<br>
</li>
<li data-line="8" dir="auto">키에 TTL(Time To Live) 설정 가능: 자동 만료.<br>
</li>
</ul>
</li>
<li data-line="10" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>적용 사례:</strong>
<ul>
<li data-line="12" dir="auto">세션 저장소(Spring Session).<br>
</li>
<li data-line="14" dir="auto">JWT 키 관리.<br>
</li>
<li data-line="16" dir="auto">캐시(Cache) 계층.<br>
</li>
<li data-line="18" dir="auto">분산 락(distributed locking).<br>
</li>
</ul>
</li>
<li data-line="20" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>특징:</strong>
<ul>
<li data-line="22" dir="auto">인메모리 기반, 디스크에 영속화 옵션 가능(AOF, RDB).<br>
</li>
<li data-line="24" dir="auto">복제(replication), 클러스터링 지원.<br>
</li>
<li data-line="26" dir="auto">Pub/Sub(메시지 브로커 기능)도 있음.</li>
</ul>
</li>
</ul></div><div class="el-hr"><hr></div><div class="el-br"><br></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="2. Sticky Session" dir="auto" class="heading" id="2._Sticky_Session"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2. Sticky Session</h2><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p>"사용자가 항상 같은 서버 인스턴스로 요청을 보내도록 강제하는" 로드 밸런싱 전략</p>
</blockquote></div><div class="el-pre"><pre><code data-line="0">Sticky Session은 로드밸런서가 요청을 서버에 무작위로 분산하지 않고,  
특정 사용자는 항상 같은 서버로 라우팅되게 만드는 방식.
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>동작 원리:</strong>
<ul>
<li data-line="2" dir="auto">최초 요청 시, 서버가 세션 ID(cookie 또는 HTTP 헤더)를 발급.<br>
</li>
<li data-line="4" dir="auto">로드밸런서는 이 세션 ID를 기억하여, 이후 요청을 같은 서버로 보냄.<br>
</li>
<li data-line="6" dir="auto">서버 로컬 메모리에 세션 데이터 저장.<br>
</li>
</ul>
</li>
<li data-line="8" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>적용 사례:</strong>
<ul>
<li data-line="10" dir="auto">간단한 구조의 서비스.<br>
</li>
<li data-line="12" dir="auto">세션 기반 인증(Login 상태 유지) 시스템에서 서버 확장이 필요할 때.<br>
</li>
<li data-line="14" dir="auto">임시방편(quick and dirty)으로 분산처리 할 때.<br>
</li>
</ul>
</li>
<li data-line="16" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>특징:</strong>
<ul>
<li data-line="18" dir="auto">서버 죽으면 세션도 소멸.<br>
</li>
<li data-line="20" dir="auto">서버 간 데이터 공유는 불가능.<br>
</li>
<li data-line="22" dir="auto">스케일 아웃(확장)에 제약이 있음.</li>
</ul>
</li>
</ul></div><div class="el-hr"><hr></div><div class="el-br"><br></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="3. ConcurrentHashMap" dir="auto" class="heading" id="3._ConcurrentHashMap"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3. ConcurrentHashMap</h2><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p>Java 내부에서 제공하는 "스레드-세이프(Thread-safe)한 해시 맵 구현체"</p>
</blockquote></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>정체:</strong><br>
Java Collections Framework에 포함된 동시성-safe한 HashMap.<br>
Java 5부터 제공. 내부적으로 세그먼트를 락(lock) 걸어 다중 스레드 동시 접근 허용.<br>
</li>
<li data-line="4" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>어떻게 작동:</strong>
<ul>
<li data-line="6" dir="auto">하나의 JVM 인스턴스(Spring 서버) 내에서, 메모리에 데이터를 저장.<br>
</li>
<li data-line="8" dir="auto">다중 스레드 환경에서도 동기화(Concurrency Control)가 되어 있어 안정적.<br>
</li>
<li data-line="10" dir="auto">외부 서버와는 전혀 공유되지 않음 → 오직 '자기 자신' JVM 메모리.<br>
</li>
</ul>
</li>
<li data-line="12" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>적용 사례:</strong>
<ul>
<li data-line="14" dir="auto">요청 중 공유되는 데이터 저장.<br>
</li>
<li data-line="16" dir="auto">일시적 데이터 캐시.<br>
</li>
<li data-line="18" dir="auto">스레드 간 상태 저장.<br>
</li>
</ul>
</li>
<li data-line="20" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>특징:</strong>
<ul>
<li data-line="22" dir="auto">진짜 빠르다 (로컬 메모리 접근).<br>
</li>
<li data-line="24" dir="auto">서버 죽으면 데이터 사라진다.<br>
</li>
<li data-line="26" dir="auto">여러 서버에 동일한 데이터 보장 불가.</li>
</ul>
</li>
</ul></div><div class="el-hr"><hr></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="▶ <u>정리</u>" dir="auto" class="heading" id="▶_<u>정리</u>">▶ <u>정리</u></h1><div class="heading-children"><div class="el-br"><br></div><div class="el-ol"><ol>
<li data-line="0" dir="auto"><u>ConcurrentHashMap</u>은 스레드 세이프하고 매우매우 빠르지만, 분산 서버 환경에서는 서버간 데이터 공유가 불가능하다. - (별도의 셋팅 필요)<br>
<br></li>
<li data-line="2" dir="auto"><u>Sticky Session</u>은 Spring의 셋팅을 별도로 변경하지 않고 적용가능하다는 장점이 있다.(로드 벨런서를 사용하여 특정 서버 고정) 하지만, 특정 서버에 트래픽이 몰릴 가능성이 있어 로드 벨런싱 효율이 떨어지게 된다. 또한 특정서버가 죽으면 해당 세션이 소멸되어 찾을 수 없게된다.<br>
<br></li>
<li data-line="4" dir="auto"><u>Redis</u>는 위의 단점을 모두 커버할 수 있는 방식이다. 하지만, 서버-서버간 통신이 필요하기 때문에 로컬보다는 느릴 수 있고, 추가적인 인프라 구축 비용이 필요하다. 또한 <em>SPOF (Single Point of Failure)</em> 이 발생할 수 있기 때문에, Redis Cluster, Redis Replication 등의 전략이 필요하다.</li>
</ol></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="caution" class="callout"><div class="callout-title" dir="auto"><div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="callout-title-inner">SPOF (Single Point of Failure) 이란?</div></div><div class="callout-content">
<blockquote dir="auto">
<p><strong>시스템에서 단 하나의 장애 지점이 전체 서비스 장애로 이어지는 것</strong></p>
</blockquote>
<ul>
<li data-line="2" dir="auto">시스템의 특정 컴포넌트가 장애나면 전체가 멈춰버리는 상황.  </li>
<li data-line="3" dir="auto">고가용성(HA, High Availability)을 깨뜨리는 주범</li>
</ul>
</div></div></div><div class="el-hr"><hr></div><div class="el-br"><br></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="✨ 결론" dir="auto" class="heading" id="✨_결론">✨ 결론</h1><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">Redis인프라가 구성 되어있는 상황에서, 분산 서버 캐시는 Redis가 가장 합리적으로 보인다.</li>
</ul></div><div class="mod-footer mod-ui"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="outline-tree tree-container"><div class="tree-item nav-folder mod-root" data-depth="0"><div class="tree-item-self nav-folder-title"><div class="tree-item-inner nav-folder-title-content">Table Of Contents</div><button class="clickable-icon nav-action-button tree-collapse-all" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-item-children nav-folder-children"><div class="nav-folder-spacer"></div><div class="tree-item" data-depth="1"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#🤲분산 환경에서의 Cache 선택하기" data-path="#🤲분산 환경에서의 Cache 선택하기"><div class="tree-item-inner heading-link" heading-name="🤲분산 환경에서의 Cache 선택하기">🤲분산 환경에서의 Cache 선택하기</div></a><div class="tree-item-children"></div></div><div class="tree-item mod-collapsible" data-depth="1"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#▶_분산_서버_환경에서_고려하고있는_**Cache**_전략들" data-path="#▶_분산_서버_환경에서_고려하고있는_**Cache**_전략들"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="▶ 분산 서버 환경에서 고려하고있는 **Cache** 전략들">▶ 분산 서버 환경에서 고려하고있는 <strong>Cache</strong> 전략들</div></a><div class="tree-item-children"><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#1._레디스(redis)" data-path="#1._레디스(redis)"><div class="tree-item-inner heading-link" heading-name="1. 레디스(redis)">1. 
레디스(redis)
</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#2._스티키_세션_전략(Sticky_Session)" data-path="#2._스티키_세션_전략(Sticky_Session)"><div class="tree-item-inner heading-link" heading-name="2. 스티키 세션 전략(Sticky Session)">2. 
스티키 세션 전략(Sticky Session)
</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#3._자바의_콘커런트_해쉬(ConcurrentHashMap)" data-path="#3._자바의_콘커런트_해쉬(ConcurrentHashMap)"><div class="tree-item-inner heading-link" heading-name="3. 자바의 콘커런트 해쉬(ConcurrentHashMap)">3. 
자바의 콘커런트 해쉬(ConcurrentHashMap)
</div></a><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#▶_**분산_서버**_환경에서의_고려해야_할_점" data-path="#▶_**분산_서버**_환경에서의_고려해야_할_점"><div class="tree-item-inner heading-link" heading-name="▶ **분산 서버** 환경에서의 고려해야 할 점">▶ <strong>분산 서버</strong> 환경에서의 고려해야 할 점</div></a><div class="tree-item-children"></div></div><div class="tree-item mod-collapsible" data-depth="1"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#▶_각_**Cache**전략_별_설명" data-path="#▶_각_**Cache**전략_별_설명"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="▶ 각 **Cache**전략 별 설명">▶ 각 <strong>Cache</strong>전략 별 설명</div></a><div class="tree-item-children"><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#1._Redis" data-path="#1._Redis"><div class="tree-item-inner heading-link" heading-name="1. Redis">1. 
Redis
</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#2._Sticky_Session" data-path="#2._Sticky_Session"><div class="tree-item-inner heading-link" heading-name="2. Sticky Session">2. 
Sticky Session
</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#3._ConcurrentHashMap" data-path="#3._ConcurrentHashMap"><div class="tree-item-inner heading-link" heading-name="3. ConcurrentHashMap">3. 
ConcurrentHashMap
</div></a><div class="tree-item-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#▶_<u>정리</u>" data-path="#▶_<u>정리</u>"><div class="tree-item-inner heading-link" heading-name="▶ <u>정리</u>">▶ <u>정리</u></div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-item-self is-clickable" href="study/cs/🤲분산-환경에서의-cache-선택하기.html#✨_결론" data-path="#✨_결론"><div class="tree-item-inner heading-link" heading-name="✨ 결론">✨ 결론</div></a><div class="tree-item-children"></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>