<!DOCTYPE html> <html><head>
<title>📍 Next.js Page Router</title>
<base href="../..">
<meta id="root-path" root-path="../..">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
<meta charset="UTF-8">
<meta name="description" content="Category - 📍 Next.js Page Router">
<meta property="og:title" content="📍 Next.js Page Router">
<meta property="og:description" content="Category - 📍 Next.js Page Router">
<meta property="og:type" content="website">
<meta property="og:url" content="./https://lts.kr/project/new-project/📍-next.js-page-router.html">
<meta property="og:image" content="undefined">
<meta property="og:site_name" content="Category">
<meta name="author" content="taesung's Blog"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="./https://lts.kr/lib/rss.xml"><include src="lib/html/custom-head-content.html"></include><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:not(h1,h2,h3,h4,h5,h6):has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(const t of e){let e=t.getAttribute("src");try{const o=await fetch(e);if(!o.ok){console.log("Could not include file: "+e),t?.remove();continue}let l=await o.text(),n=document.createRange().createContextualFragment(l),c=Array.from(n.children);for(let e of c)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);t.before(n),t.remove(),console.log("Included file: "+e)}catch(o){t?.remove(),console.log("Could not include file: "+e,o);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon is-focused hide-cursor"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><div class="search-input-wrapper"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="📍 Next.js Page Router"><p dir="auto">📍 Next.js Page Router</p></h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-p"><p dir="auto"><a href="?query=tag:%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#프로젝트">#프로젝트</a> <a href="?query=tag:%EA%B0%9C%EB%B0%9C" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#개발">#개발</a> <a href="?query=tag:%ED%94%84%EB%A1%A0%ED%8A%B8" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#프론트">#프론트</a> <a href="?query=tag:React" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#React">#React</a> <a href="?query=tag:Nextjs" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#Nextjs">#Nextjs</a> <a href="?query=tag:Front" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#Front">#Front</a> <a href="?query=tag:%EC%96%B8%EC%96%B4" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#언어">#언어</a> <a href="?query=tag:%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#프레임워크">#프레임워크</a> <a href="?query=tag:FRAMWORK" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#FRAMWORK">#FRAMWORK</a> <a href="?query=tag:Nodejs" class="tag is-unresolved" target="_self" rel="noopener nofollow" data-href="#Nodejs">#Nodejs</a></p></div><div class="el-hr"><hr></div><div class="el-h2 heading-wrapper"><h2 data-heading="▶ [[🍌 React와 Next.js]] 참고" dir="auto" class="heading" id="▶_[[🍌_React와_Next.js]]_참고"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>▶ <a data-href="🍌 React와 Next.js" href="study/cs/🍌-react와-next.js.html" class="internal-link" target="_self" rel="noopener nofollow">🍌 React와 Next.js</a> 참고</h2><div class="heading-children"><div class="el-br"><br></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="<font color=&quot;#8db3e2&quot;>개요</font>" dir="auto" class="heading" id="<font_color=&quot;#8db3e2&quot;>개요</font>"><font color="#8db3e2">개요</font></h1><div class="heading-children"><div class="el-br"><br></div><div class="el-h2 heading-wrapper"><h2 data-heading="Routing / Router 란?" dir="auto" class="heading" id="Routing_/_Router_란?"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Routing / Router 란?</h2><div class="heading-children"><div class="el-h4 heading-wrapper"><h4 data-heading="라우팅(Routing)" dir="auto" class="heading" id="라우팅(Routing)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>라우팅(Routing)</h4><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">사용자가 웹에서 URL을 입력했을 때, 어떤 페이지를 보여줄지 결정하는 동작.</li>
<li data-line="1" dir="auto">즉, URL → 페이지 매핑 규칙이다.</li>
<li data-line="2" dir="auto">ex) <code>/about</code> 을 입력하면, <code>About</code>페이지 컴포넌트를 랜더링한다.</li>
</ul></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="라우터(Router)" dir="auto" class="heading" id="라우터(Router)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>라우터(Router)</h4><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">라우팅을 수행하고 관리하는 시스템.</li>
<li data-line="1" dir="auto">페이지 전환, 파라미터 처리, URL변경 감지 등을 담당.</li>
</ul></div><div class="el-p"><p dir="auto">이번에는 Next.js의 라우팅 방식의 종류를 자세하게 알아보겠다.</p></div><div class="el-br"><br></div><div class="el-hr"><hr></div><div class="el-br"><br></div></div></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="<font color=&quot;#8db3e2&quot;>Next.Js의 라우팅 방식 (파일 기반 / 동적 / 캐치올 / 중첩 라우팅)</font>" dir="auto" class="heading" id="<font_color=&quot;#8db3e2&quot;>Next.Js의_라우팅_방식_(파일_기반_/_동적_/_캐치올_/_중첩_라우팅)</font>"><font color="#8db3e2">Next.Js의 라우팅 방식 (파일 기반 / 동적 / 캐치올 / 중첩 라우팅)</font></h1><div class="heading-children"><div class="el-br"><br></div><div class="el-p"><p dir="auto">Next.js는 <strong>파일 시스템 기반 라우팅(file-system based routing)</strong> 을 사용한다.</p></div><div class="el-p"><p dir="auto">즉, <u>폴더와 파일 구조 자체</u>가 URL 라우트로 매핑된다.</p></div><div class="el-br"><br></div><div class="el-h4 heading-wrapper"><h4 data-heading="파일 기반 라우팅" dir="auto" class="heading" id="파일_기반_라우팅"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>파일 기반 라우팅</h4><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto"><code>pages</code> 디렉터리나 <code>app</code> 디렉터리에 파일을 추가하면 곧바로 동일한 경로의 페이지가 생성.</li>
<li data-line="1" dir="auto">예를 들어 <code>pages/about.js</code> 파일을 만들면 <code>/about</code> 경로에 해당 페이지가 생성되는 식이다.</li>
<li data-line="2" dir="auto"><strong>페이지 디렉터리</strong>에 파일을 추가하는 것만으로 새로운 웹 페이지(라우트)가 만들어지므로, 초보자도 쉽게 URL 경로를 정의할 수 있습니다.
</li>
<li data-line="4" dir="auto"><strong>동적 라우팅(Dynamic Routing)</strong>: 경로 일부가 가변적인 경우 <em>동적 경로</em>를 사용할 수 있습니다. 파일이나 폴더 이름을 <code>[param]</code> 형태의 <strong>대괄호</strong>로 감싸면 동적 세그먼트로 인식되어, 요청 시 해당 부분을 변수로 처리합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=A%20Dynamic%20Segment%20can%20be,slug" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=A%20Dynamic%20Segment%20can%20be,slug" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=A%20Dynamic%20Segment%20can%20be,Dynamic%20Segment%20for%20blog%20posts" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=A%20Dynamic%20Segment%20can%20be,Dynamic%20Segment%20for%20blog%20posts" target="_self">nextjs.org</a>. 예를 들어 <code>pages/blog/[slug].js</code>는 <code>/blog/hello</code>나 <code>/blog/world</code> 등으로 요청할 때 <code>[slug]</code> 자리에 들어온 값을 읽어 각각의 페이지를 렌더링합니다. 동적 경로 내부에서 Next.js <strong>Router</strong>를 통해 해당 파라미터에 접근할 수 있습니다. (Pages Router의 경우 <code>useRouter</code> 훅의 <code>router.query.slug</code>로 접근하고, App Router의 경우 컴포넌트의 <code>params</code> 프로퍼티로 접근합니다.)
</li>
<li data-line="6" dir="auto"><strong>캐치올 라우팅(Catch-all Routing)</strong>: 여러 경로 세그먼트를 한 번에 캡처하고자 할 때는 <code>[...]</code> 형태로 <strong>세 개의 점</strong>을 사용합니다. 예를 들어 <code>pages/shop/[...slug].js</code> 파일을 만들면 <code>/shop</code> 하위의 임의의 경로에 모두 매칭됩니다. <code>/shop/clothes</code>, <code>/shop/clothes/tops</code> 등 <strong>여러 수준의 경로</strong>를 하나의 페이지로 처리할 수 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=Dynamic%20Segments%20can%20be%20extended,segmentName" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=Dynamic%20Segments%20can%20be%20extended,segmentName" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Catch" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Catch" target="_self">nextjs.org</a>. 이 때 <code>router.query.slug</code> (또는 App Router의 <code>params.slug</code>)는 배열 형태로 여러 세그먼트 값을 담게 됩니다.
</li>
<li data-line="8" dir="auto"><strong>옵셔널 캐치올(Optional Catch-all)</strong>: 캐치올 경로를 정의하면서 해당 경로가 <strong>없을 때도</strong> 페이지를 매칭시키려면 대괄호를 두 번 겹친 <code>[[...param]]</code> 형태를 사용합니다. 예를 들어 <code>pages/shop/[[...slug]].js</code> 파일은 <code>/shop</code> 경로 자체와 <code>/shop/</code> 이하의 모든 하위 경로를 모두 처리합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=Catch,segmentName" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=Catch,segmentName" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Optional%20Catch" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Optional%20Catch" target="_self">nextjs.org</a>. 옵셔널 캐치올을 사용하면 <code>/shop</code>처럼 파라미터가 없을 경우에도 페이지가 렌더링되며, 이때 파라미터 값은 <code>undefined</code>(혹은 빈 배열)로 처리됩니다.
</li>
<li data-line="10" dir="auto"><strong>중첩 라우팅(Nested Routing)</strong>: 경로를 다단계로 중첩시켜 계층적인 URL을 만들 수 있습니다. 예를 들어 <code>/blog/category/[slug]</code> 같은 경로는 <strong>세gment</strong>가 여러 층으로 이루어진 중첩 경로입니다. Next.js에서는 <strong>폴더를 중첩</strong>시켜 이러한 URL 세그먼트를 표현하고, 폴더 안에 페이지 파일을 넣어 각 세그먼트별 UI를 구성합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=A%20nested%20route%20is%20a,is%20composed%20of%20three%20segments" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=A%20nested%20route%20is%20a,is%20composed%20of%20three%20segments" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=In%20Next" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=In%20Next" target="_self">nextjs.org</a>. 예를 들어 <code>pages/blog/[slug].js</code>는 <code>/blog/x</code> 경로에 대응하고, 더 깊은 중첩 경로 <code>/blog/[slug]/[commentId]</code>를 만들고 싶다면 <code>pages/blog/[slug]/[commentId].js</code> 처럼 폴더를 계층적으로 추가하면 됩니다. App Router에서도 마찬가지로 <code>app</code> 디렉터리 내에 폴더를 나란히/계층적으로 배치하여 중첩된 경로를 정의합니다.
</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="2. 폴더 구조 예시 및 규칙 (`pages/` vs `app/` 디렉터리)" dir="auto" class="heading" id="2._폴더_구조_예시_및_규칙_(`pages/`_vs_`app/`_디렉터리)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2. 폴더 구조 예시 및 규칙 (<code>pages/</code> vs <code>app/</code> 디렉터리)</h2><div class="heading-children"><div class="el-p"><p dir="auto">Next.js에서는 프로젝트 폴더 내에 <strong><code>pages/</code> 디렉터리</strong>와(또는) <strong><code>app/</code> 디렉터리</strong>를 통해 라우트를 정의합니다. Next.js 13부터 도입된 <code>app/</code> 디렉터리는 새로운 App Router를 활용하며, 기존의 <code>pages/</code> 디렉터리는 Pages Router로 동작합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,a%20route%20segment%20publicly%20accessible" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,a%20route%20segment%20publicly%20accessible" target="_self">nextjs.org</a>. 두 디렉터리 모두 파일 시스템 기반으로 동작하지만, 구조와 규칙에 약간의 차이가 있습니다:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>Pages Router (<code>pages/</code> 디렉터리)</strong>: <code>pages</code> 폴더 아래 파일 이름이 곧 URL 경로가 됩니다. 예를 들어 <code>pages/index.js</code>는 홈 경로(<code>/</code>), <code>pages/about.js</code>는 <code>/about</code> 페이지를 의미합니다. 하위에 폴더를 만들면 URL 경로에 해당 폴더 이름이 세그먼트로 추가됩니다. 또한 파일/폴더 이름에 <strong>대괄호 규칙</strong>을 적용하여 동적 경로를 만들 수 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=A%20Dynamic%20Segment%20can%20be,slug" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes#:~:text=A%20Dynamic%20Segment%20can%20be,slug" target="_self">nextjs.org</a>. 파일명을 <code>[param].js</code>로 하면 동적 라우트, <code>[...param].js</code>로 하면 캐치올 라우트, <code>[[...param]].js</code>로 하면 옵셔널 캐치올 라우트로 동작합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Optional%20Catch" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Optional%20Catch" target="_self">nextjs.org</a>. Pages Router에서는 파일 하나가 하나의 페이지 컴포넌트이며, <strong><code>_app.js</code></strong>, <strong><code>_document.js</code></strong> 같은 특별한 파일로 전체 레이아웃이나 <code>&lt;html&gt;</code> 구조를 설정합니다.
</li>
<li data-line="2" dir="auto"><strong>App Router (<code>app/</code> 디렉터리)</strong>: <code>app</code> 폴더는 Next.js 13+ 버전에서 도입된 새로운 라우팅 방식으로, <strong>폴더가 경로 세그먼트</strong>를 나타내고 그 내부의 <code>page.js</code> (혹은 <code>page.tsx</code>) 파일이 해당 경로의 페이지 내용을 담당합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,a%20route%20segment%20publicly%20accessible" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,a%20route%20segment%20publicly%20accessible" target="_self">nextjs.org</a>. 즉, 각 폴더마다 반드시 <code>page.jsx/tsx</code> 파일이 있어야 그 폴더 경로가 외부에 노출됩니다. 예를 들어 <code>app/page.tsx</code>는 <code>/</code> 경로의 페이지, <code>app/about/page.tsx</code>는 <code>/about</code> 페이지를 의미합니다<a data-tooltip-position="top" aria-label="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=App%20is%20the%20new%20directory,about" rel="noopener nofollow" class="external-link is-unresolved" href="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=App%20is%20the%20new%20directory,about" target="_self">frontendeng.dev</a>. 동적 경로는 폴더 이름을 <code>[param]</code>으로 만들어 표현하고, 해당 폴더 안에 <code>page.js</code>를 두는 방식입니다 (예: <code>app/blog/[slug]/page.tsx</code>는 <code>/blog/[임의값]</code> 경로)<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=You%20can%20continue%20nesting%20folders,file" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=You%20can%20continue%20nesting%20folders,file" target="_self">nextjs.org</a>. 마찬가지로 <code>[...param]</code> 폴더를 만들어 캐치올 경로를, <code>[[...param]]</code> 폴더로 옵셔널 캐치올 경로를 구현할 수 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Catch,folderName" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes#:~:text=Catch,folderName" target="_self">nextjs.org</a>. App Router에서는 <em>각 폴더별로</em> 선택적으로 <code>layout.js</code>를 정의해 그 하위 경로들에 공통 레이아웃을 적용할 수 있고, <code>pages/_app.js</code>나 <code>_document.js</code> 대신 <code>app/layout.js</code> (루트 레이아웃)을 통해 앱 전역의 레이아웃과 <code>&lt;html&gt;&lt;body&gt;</code> 구조를 설정합니다.
</li>
</ul></div><div class="el-p"><p dir="auto">아래는 <code>pages/</code>와 <code>app/</code> 디렉터리 구조 예시입니다. 폴더와 파일의 이름이 어떻게 URL로 매핑되는지 주석으로 표시했습니다:</p></div><div class="el-p"><p dir="auto">bash</p></div><div class="el-p"><p dir="auto">복사편집</p></div><div class="el-p"><p dir="auto"><code>my-nextjs-project/ ├── pages/                  # Pages Router 사용 시 │   ├── index.js            // '/' (홈 페이지) │   ├── about.js            // '/about' │   ├── blog/ │   │   ├── index.js        // '/blog' │   │   ├── [slug].js       // '/blog/:slug' (동적 라우팅) │   │   └── [[...slug]].js  // '/blog' 및 '/blog/...'(옵셔널 캐치올) │   └── api/ │       └── hello.js        // API 라우트 예시 ('/api/hello') └── app/                    # App Router 사용 시     ├── layout.js           // 루트 레이아웃 (모든 페이지에 공통 적용)     ├── page.js             // '/' (홈 페이지)     ├── about/     │   └── page.js         // '/about'     └── blog/         ├── layout.js       // '/blog' 관련 페이지 레이아웃         ├── page.js         // '/blog'         └── [slug]/             └── page.js     // '/blog/:slug' (동적 라우팅)</code></p></div><div class="el-p"><p dir="auto">위 구조에서 볼 수 있듯, <code>pages</code> 디렉터리에서는 파일 자체가 경로이고, <code>app</code> 디렉터리에서는 각 폴더가 경로 세그먼트이며 그 안의 <code>page.js</code> 파일이 실제 페이지를 담당합니다. 폴더/파일에 대괄호(<code>[]</code>)를 사용한 규칙은 양쪽에 공통으로 적용되어 동적 라우트나 캐치올 라우트를 만들 수 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=Wrapping%20a%20folder%20name%20in,blog%20posts%2C%20product%20pages%2C%20etc" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=Wrapping%20a%20folder%20name%20in,blog%20posts%2C%20product%20pages%2C%20etc" target="_self">nextjs.org</a>. 다만 App Router에서는 <strong>페이지 컴포넌트 파일명이 항상 <code>page</code></strong>로 고정인 점이 다르고, 폴더 구조를 자유롭게 깊게 중첩하여 복잡한 경로도 표현할 수 있습니다 (예: <code>app/products/[category]/[item]/page.tsx</code> → <code>/products/:category/:item</code> 경로).</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="3. App Router와 Pages Router의 차이점" dir="auto" class="heading" id="3._App_Router와_Pages_Router의_차이점"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3. App Router와 Pages Router의 차이점</h2><div class="heading-children"><div class="el-p"><p dir="auto">Next.js 13 버전에서 <strong>App Router</strong> (<code>app/</code> 디렉터리)가 도입되면서 기존 <strong>Pages Router</strong> (<code>pages/</code> 디렉터리)와 여러 측면에서 차이가 생겼습니다<a data-tooltip-position="top" aria-label="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=Nextjs%20introduced%20a%20new%20app,are%20starting%20a%20new%20project" rel="noopener nofollow" class="external-link is-unresolved" href="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=Nextjs%20introduced%20a%20new%20app,are%20starting%20a%20new%20project" target="_self">frontendeng.dev</a>. 주요 차이점을 기능, 동작 방식 측면에서 정리하면 다음과 같습니다:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>파일 구조 및 라우팅 방식</strong>: Pages Router는 <code>pages</code> 폴더에 파일을 생성하면 자동으로 라우트가 생성되는 <strong>관례 중심(convention)</strong>의 방식입니다. 반면 App Router는 <code>app</code> 폴더 내에 <strong>폴더와 특별한 파일명</strong>(<code>page</code>, <code>layout</code> 등)을 사용하여 라우트를 보다 구조적으로 정의합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,a%20route%20segment%20publicly%20accessible" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,a%20route%20segment%20publicly%20accessible" target="_self">nextjs.org</a>. Pages Router에서는 <code>_app.js</code>, <code>_document.js</code>, <code>_error.js</code> 등을 통해 전역 설정을 했지만, App Router에서는 이러한 파일들이 <strong>루트 레이아웃</strong> (<code>app/layout.js</code>)이나 각 경로별 <code>layout.js</code>, 그리고 <code>error.js</code>, <code>loading.js</code> 등으로 대체되었습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" target="_self">nextjs.org</a>. 즉, <strong>App Router는 중첩 레이아웃</strong>과 에러 처리, 로딩 상태 등을 파일 시스템에 선언적으로 구성할 수 있습니다.
</li>
<li data-line="2" dir="auto"><strong>렌더링 방식 (클라이언트/서버 컴포넌트)</strong>: App Router의 도입과 함께 <strong>React Server Components(RSC)</strong>가 기본적으로 활용됩니다. App Router의 페이지 컴포넌트는 기본적으로 <strong>서버 컴포넌트</strong>로 렌더링되어, 클라이언트로 불필요한 자바스크립트를 보내지 않고도 HTML을 그려내는 방식입니다<a data-tooltip-position="top" aria-label="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=,RSC" rel="noopener nofollow" class="external-link is-unresolved" href="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=,RSC" target="_self">frontendeng.dev</a>. 이는 Pages Router 시절의 페이지 컴포넌트들이 <strong>항상 클라이언트 컴포넌트로 실행</strong>되던 것과 큰 차이점입니다. (Pages Router에서도 SSR을 지원하지만, SSR 결과를 하이드레이션하는 형태이고 컴포넌트 자체는 클라이언트에서 동작했습니다.) App Router에서는 <code>"use client"</code> 지시어를 통해 클라이언트 컴포넌트로 전환할 수 있고, 기본은 서버에서 렌더링됩니다. 이로 인해 초기 페이지 로드 성능과 코드 분할 측면에서 이점이 있지만, 반대로 Pages Router보다 개념이 다소 복잡해졌습니다<a data-tooltip-position="top" aria-label="https://dev.to/dcs-ink/nextjs-app-router-vs-pages-router-3p57#:~:text=Simplicity%20vs,suited%20for%20complex%20routing%20scenarios" rel="noopener nofollow" class="external-link is-unresolved" href="https://dev.to/dcs-ink/nextjs-app-router-vs-pages-router-3p57#:~:text=Simplicity%20vs,suited%20for%20complex%20routing%20scenarios" target="_self">dev.to</a>.
</li>
<li data-line="4" dir="auto"><strong>데이터 패칭(Data Fetching) 방식</strong>: Pages Router에서는 <code>getStaticProps</code>, <code>getServerSideProps</code>, <code>getStaticPaths</code>, <code>getInitialProps</code> 등의 <strong>특수한 데이터 패칭 함수</strong>를 페이지 컴포넌트에서 <strong>export</strong>하여 Next.js가 빌드 타임 혹은 요청 시 데이터를 공급했습니다. App Router에서는 이러한 함수를 <strong>지원하지 않으며</strong>, 대신 <strong><code>fetch</code> API와 React의 비동기 컴포넌트</strong> 패턴을 사용한 <strong>간결한 데이터 패칭</strong> 방식으로 대체되었습니다<a data-tooltip-position="top" aria-label="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=The%20pages%20directory%20uses%20getServerSideProps,and%20async%20React%20Server%20Components" rel="noopener nofollow" class="external-link is-unresolved" href="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=The%20pages%20directory%20uses%20getServerSideProps,and%20async%20React%20Server%20Components" target="_self">frontendeng.dev</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" target="_self">nextjs.org</a>. 예를 들어 Pages Router에서 정적 데이터를 가져오려면 <code>getStaticProps</code>를 구현해야 했지만, App Router의 페이지 컴포넌트에서는 그냥 <code>await fetch()</code>를 호출하면 Next.js가 해당 데이터를 빌드 시 캐싱하여 SSR해주는 식입니다. 또한 <code>getStaticPaths</code>는 App Router에서 <strong><code>generateStaticParams</code></strong>라는 함수로 대체되어, 빌드 시 생성할 동적 경로 목록을 정의합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" target="_self">nextjs.org</a>. 요약하면, <strong>Pages Router는 명시적인 데이터 패칭 함수 기반</strong>, <strong>App Router는 React 컴포넌트 내에서 직접 비동기 처리</strong>를 하는 형태로 달라졌습니다. 이 변화로 인해 App Router 쪽이 데이터 패칭 코드가 간소화되고 타입스크립트 사용이 쉬워졌지만, 기존 Pages Router 함수를 사용하던 코드는 마이그레이션이 필요합니다.
</li>
<li data-line="6" dir="auto"><strong>레이아웃과 중첩 UI</strong>: Pages Router에서는 페이지 간 공통 레이아웃을 구현하기 위해 <code>_app.js</code>에서 모든 페이지에 공통 레이아웃을 넣거나, 각 페이지 컴포넌트를 감싸는 식으로 처리했습니다. 반면 App Router는 <strong>중첩 레이아웃(Nested Layout)</strong>을 프레임워크 차원에서 지원하여, 폴더마다 <code>layout.js</code>를 추가함으로써 <strong>해당 경로 이하의 모든 페이지에 자동으로 레이아웃이 적용</strong>되도록 합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=Nesting%20layouts" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=Nesting%20layouts" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=If%20you%20were%20to%20combine,slug%5D%2Fpage.js" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/getting-started/layouts-and-pages#:~:text=If%20you%20were%20to%20combine,slug%5D%2Fpage.js" target="_self">nextjs.org</a>. 예를 들어 <code>app/dashboard/layout.js</code>와 <code>app/dashboard/page.js</code>가 있다면 대시보드 레이아웃 안에 여러 페이지가 렌더링되며 상태도 보존됩니다. 또한 서로 다른 레이아웃을 병렬로 구성하는 <strong>Parallel Routes</strong>나 경로를 조건부로 바꾸는 <strong>Intercepting Routes</strong> 등 App Router만의 고급 라우팅 기능들도 제공됩니다. 이러한 유연성 덕분에 App Router는 <strong>복잡한 UI 구조나 대시보드형 앱</strong> 등에 적합합니다<a data-tooltip-position="top" aria-label="https://dev.to/dcs-ink/nextjs-app-router-vs-pages-router-3p57#:~:text=Simplicity%20vs,suited%20for%20complex%20routing%20scenarios" rel="noopener nofollow" class="external-link is-unresolved" href="https://dev.to/dcs-ink/nextjs-app-router-vs-pages-router-3p57#:~:text=Simplicity%20vs,suited%20for%20complex%20routing%20scenarios" target="_self">dev.to</a>.
</li>
<li data-line="8" dir="auto"><strong>권장 사용 및 마이그레이션</strong>: Next.js 13 이후 Vercel 측은 <strong>새로운 앱을 만들 때 App Router 사용을 권장</strong>하고 있습니다<a data-tooltip-position="top" aria-label="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=Nextjs%20introduced%20a%20new%20app,are%20starting%20a%20new%20project" rel="noopener nofollow" class="external-link is-unresolved" href="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=Nextjs%20introduced%20a%20new%20app,are%20starting%20a%20new%20project" target="_self">frontendeng.dev</a>. App Router가 초기에는 실험적이었지만 현재는 안정화되었고, 향후 Next.js에서는 Pages Router보다 App Router 중심으로 발전이 예상됩니다 (장기적으로 Pages Router가 <strong>deprecated</strong>될 가능성이 높습니다<a data-tooltip-position="top" aria-label="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=official%20documentation%20here" rel="noopener nofollow" class="external-link is-unresolved" href="https://www.frontendeng.dev/blog/26-difference-between-app-and-pages-in-nextjs#:~:text=official%20documentation%20here" target="_self">frontendeng.dev</a>). 기존 Pages Router 기반 프로젝트는 점진적으로 마이그레이션할 수 있습니다. Next.js는 <strong>두 라우터를 동시 사용</strong>하는 것도 허용하기 때문에 (<code>pages/</code>와 <code>app/</code> 폴더를 함께 두는 방식), 일부 페이지부터 <code>app/</code> 디렉터리로 옮겨가는 <strong>점진적 도입</strong>도 가능합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=Next,exists%20with%20the%20%60pages%60%20directory" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=Next,exists%20with%20the%20%60pages%60%20directory" target="_self">nextjs.org</a>. 마이그레이션 시에는 기존의 <code>_app.js</code> 설정을 <code>app/layout.js</code>로 이전하고, 데이터 패칭 로직은 앞서 언급한 새로운 방식으로 변경하는 등 단계별 작업이 필요합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/migrating/app-router-migration#:~:text=,been%20replaced%20with%20a%20single" target="_self">nextjs.org</a>. Pages Router의 기존 페이지들은 <code>app</code> 디렉터리로 이동하지 않는 한 그대로 동작하므로, <strong>업그레이드해도 당장 App Router로 전환할 필요는 없지만</strong>, 장기적으로는 App Router로 전환하는 것이 권장됩니다.
</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="4. 커스텀 라우터 설정: `next.config.js`의 `rewrites`, `redirects`, `headers`" dir="auto" class="heading" id="4._커스텀_라우터_설정_`next.config.js`의_`rewrites`,_`redirects`,_`headers`"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4. 커스텀 라우터 설정: <code>next.config.js</code>의 <code>rewrites</code>, <code>redirects</code>, <code>headers</code></h2><div class="heading-children"><div class="el-p"><p dir="auto">Next.js에서는 라우팅을 세부적으로 제어하기 위해 <strong><code>next.config.js</code></strong> 파일에서 몇 가지 옵션을 제공합니다. <code>redirects</code>, <code>rewrites</code>, <code>headers</code>가 그것으로, 경로를 바꾸거나 리다이렉트하며 특정 응답 헤더를 붙이는 등의 <strong>커스텀 라우팅 규칙</strong>을 정의할 수 있습니다. 이 설정들은 모두 비동기 함수 형태로 배열을 반환하는 패턴이며, Next.js 서버 빌드 시 적용됩니다. 각 옵션의 역할과 사용법은 다음과 같습니다:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>리디렉션(redirects)</strong>: 들어온 요청 경로를 다른 경로로 <strong>영구 혹은 일시적으로 이동</strong>시키는 규칙입니다. 예를 들어 오래된 URL 구조를 새로운 구조로 변경한 경우나 특정 페이지를 별도의 페이지로 이동시키고 싶을 때 사용합니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/redirecting#:~:text=The%20,are%20known%20ahead%20of%20time" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/redirecting#:~:text=The%20,are%20known%20ahead%20of%20time" target="_self">nextjs.org</a>. <code>next.config.js</code>에서 <code>async redirects()</code> 함수를 export하고, 내부에서 <code>source</code> (기존 경로 패턴), <code>destination</code> (목표 경로), <code>permanent</code> (영구여부, true면 308 Permanent Redirect / false면 307 Temporary Redirect)를 지정하는 객체 목록을 반환하면 됩니다. 지정된 경로로 요청이 오면 <strong>브라우저가 새로운 경로로 리디렉션</strong>되며 URL도 변경됩니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20allow%20you%20to%20map,to%20a%20different%20destination%20path" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20allow%20you%20to%20map,to%20a%20different%20destination%20path" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20act%20as%20a%20URL,and%20show%20the%20URL%20changes" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20act%20as%20a%20URL,and%20show%20the%20URL%20changes" target="_self">nextjs.org</a>.
  예시 – <code>/about</code> 경로를 홈(<code>/</code>)으로 영구 리디렉션:
  js
  복사편집
  <code>// next.config.js module.exports = {   async redirects() {     return [       { source: '/about', destination: '/', permanent: true },     ];   }, };</code>
  위 설정에 따르면 사용자가 <code>/about</code>으로 접속하면 브라우저가 상태 코드 308과 함께 <code>/</code> 경로로 이동하게 됩니다. (<code>permanent: false</code>로 설정하면 307 Redirect로 처리됩니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/guides/redirecting#:~:text=,redirects%20at%20scale%20for%20more" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/guides/redirecting#:~:text=,redirects%20at%20scale%20for%20more" target="_self">nextjs.org</a>.)
</li>
<li data-line="12" dir="auto"><strong>리라이팅(rewrites)</strong>: 특정 경로로 들어온 요청을 <strong>다른 경로의 콘텐츠로 매핑</strong>하지만, <strong>URL은 바꾸지 않고</strong> 그대로 유지시킵니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20allow%20you%20to%20map,to%20a%20different%20destination%20path" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20allow%20you%20to%20map,to%20a%20different%20destination%20path" target="_self">nextjs.org</a>. 이를 통해 사용자에게는 URL이 그대로 보이면서, 내부적으로는 다른 페이지를 보여주거나 외부 사이트의 내용을 프록시할 수도 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20act%20as%20a%20URL,and%20show%20the%20URL%20changes" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20act%20as%20a%20URL,and%20show%20the%20URL%20changes" target="_self">nextjs.org</a>. 설정 방법은 <code>async rewrites()</code> 함수에서 <code>source</code>와 <code>destination</code>을 지정하는 것으로, <code>redirects</code>와 유사하지만 <code>permanent</code> 옵션이 없고 브라우저에 주소 변경을 알리지 않습니다.
  예시 – <code>/blog/:slug</code> 경로의 내용을 내부적으로 <code>/news/:slug</code> 경로에서 가져오도록 rewrite:
  js
  복사편집
  <code>// next.config.js module.exports = {   async rewrites() {     return [       { source: '/blog/:slug*', destination: '/news/:slug*' },     ];   }, };</code>
  위처럼 설정하면 사용자가 <code>/blog/hello</code>로 접속했을 때 실제로는 <code>/news/hello</code>의 페이지 내용이 렌더되지만, 브라우저 주소 창에는 여전히 <code>/blog/hello</code>로 보이게 됩니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20allow%20you%20to%20map,to%20a%20different%20destination%20path" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=Rewrites%20allow%20you%20to%20map,to%20a%20different%20destination%20path" target="_self">nextjs.org</a>. Wildcard (<code>*</code>)나 정규식 그룹 등 고급 패턴 매칭도 지원하여 유연하게 경로를 매핑할 수 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=To%20match%20a%20regex%20path,blog%2Fabc" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=To%20match%20a%20regex%20path,blog%2Fabc" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=next" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=next" target="_self">nextjs.org</a>. 또한 <code>has</code>/<code>missing</code> 필드를 사용하면 특정 헤더나 쿠키, 쿼리 파라미터 존재 여부에 따라 조건부로 rewrites를 적용할 수도 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=module.exports%20%3D%20,has%3A%20%5B" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=module.exports%20%3D%20,has%3A%20%5B" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=source%3A%20%27%2F%3Apath,destination%3A%20%27%2Fhome%3Fauthorized%3D%3Aauthorized%27%2C" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites#:~:text=source%3A%20%27%2F%3Apath,destination%3A%20%27%2Fhome%3Fauthorized%3D%3Aauthorized%27%2C" target="_self">nextjs.org</a>.
</li>
<li data-line="24" dir="auto"><strong>헤더(headers)</strong>: 특정 경로의 응답에 <strong>사용자 정의 HTTP 헤더</strong>를 추가하고 싶을 때 사용합니다. 주로 보안 헤더(CSP, X-Frame-Options 등)나 캐시 제어 헤더 등을 전역으로 적용할 때 유용합니다. <code>async headers()</code> 함수에서 <code>source</code> 경로 패턴과 <code>headers</code> 키 배열을 반환하면 되며, 각 헤더 객체는 <code>key</code> (헤더명)과 <code>value</code> (헤더값)로 구성됩니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Headers%20allow%20you%20to%20set,request%20on%20a%20given%20path" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Headers%20allow%20you%20to%20set,request%20on%20a%20given%20path" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=,header" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=,header" target="_self">nextjs.org</a>.
  예시 – <code>/about</code> 페이지에 커스텀 헤더 추가:
  js
  복사편집
  <code>// next.config.js module.exports = {   async headers() {     return [       {         source: '/about',         headers: [           { key: 'X-Custom-Header', value: 'my custom header value' },           { key: 'X-Another-Header', value: 'another value' },         ],       },     ];   }, };</code>
  위 설정은 <code>/about</code> 경로를 요청할 때 응답 헤더에 <code>X-Custom-Header: my custom header value</code>와 <code>X-Another-Header: another value</code>를 포함시킵니다. <code>source</code>에는 와일드카드 패턴 (<code>/docs/:slug*</code> 등)을 사용할 수도 있어 다수의 경로에 한꺼번에 헤더를 적용할 수 있습니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Path%20matches%20are%20allowed%2C%20for,world%60%20%28no%20nested%20paths" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Path%20matches%20are%20allowed%2C%20for,world%60%20%28no%20nested%20paths" target="_self">nextjs.org</a><a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Wildcard%20Path%20Matching" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Wildcard%20Path%20Matching" target="_self">nextjs.org</a>. 헤더 설정은 파일 시스템 라우팅보다 <strong>우선 적용</strong>되며, 중복되는 헤더 키가 여러 규칙에 걸리면 마지막에 정의된 값으로 덮어쓰입니다<a data-tooltip-position="top" aria-label="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Headers%20are%20checked%20before%20the,files" rel="noopener nofollow" class="external-link is-unresolved" href="https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers#:~:text=Headers%20are%20checked%20before%20the,files" target="_self">nextjs.org</a>.</li>
</ul></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="outline-tree tree-container"><div class="tree-item nav-folder mod-root" data-depth="0"><div class="tree-item-self nav-folder-title"><div class="tree-item-inner nav-folder-title-content">Table Of Contents</div><button class="clickable-icon nav-action-button tree-collapse-all" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-item-children nav-folder-children"><div class="nav-folder-spacer"></div><div class="tree-item mod-collapsible" data-depth="1"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#📍 Next.js Page Router" data-path="#📍 Next.js Page Router"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="📍 Next.js Page Router">📍 Next.js Page Router</div></a><div class="tree-item-children"><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#▶_[[🍌_React와_Next.js]]_참고" data-path="#▶_[[🍌_React와_Next.js]]_참고"><div class="tree-item-inner heading-link" heading-name="▶ [[🍌 React와 Next.js]] 참고">▶ <span>🍌 React와 Next.js</span> 참고</div></a><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="1"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#<font_color=&quot;#8db3e2&quot;>개요</font>" data-path="#<font_color=&quot;#8db3e2&quot;>개요</font>"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="<font color=&quot;#8db3e2&quot;>개요</font>"><font color="#8db3e2">개요</font></div></a><div class="tree-item-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#Routing_/_Router_란?" data-path="#Routing_/_Router_란?"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="Routing / Router 란?">Routing / Router 란?</div></a><div class="tree-item-children"><div class="tree-item" data-depth="4"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#라우팅(Routing)" data-path="#라우팅(Routing)"><div class="tree-item-inner heading-link" heading-name="라우팅(Routing)">라우팅(Routing)</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#라우터(Router)" data-path="#라우터(Router)"><div class="tree-item-inner heading-link" heading-name="라우터(Router)">라우터(Router)</div></a><div class="tree-item-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="1"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#<font_color=&quot;#8db3e2&quot;>Next.Js의_라우팅_방식_(파일_기반_/_동적_/_캐치올_/_중첩_라우팅)</font>" data-path="#<font_color=&quot;#8db3e2&quot;>Next.Js의_라우팅_방식_(파일_기반_/_동적_/_캐치올_/_중첩_라우팅)</font>"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><div class="tree-item-inner heading-link" heading-name="<font color=&quot;#8db3e2&quot;>Next.Js의 라우팅 방식 (파일 기반 / 동적 / 캐치올 / 중첩 라우팅)</font>"><font color="#8db3e2">Next.Js의 라우팅 방식 (파일 기반 / 동적 / 캐치올 / 중첩 라우팅)</font></div></a><div class="tree-item-children"><div class="tree-item" data-depth="4"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#파일_기반_라우팅" data-path="#파일_기반_라우팅"><div class="tree-item-inner heading-link" heading-name="파일 기반 라우팅">파일 기반 라우팅</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#2._폴더_구조_예시_및_규칙_(`pages/`_vs_`app/`_디렉터리)" data-path="#2._폴더_구조_예시_및_규칙_(`pages/`_vs_`app/`_디렉터리)"><div class="tree-item-inner heading-link" heading-name="2. 폴더 구조 예시 및 규칙 (`pages/` vs `app/` 디렉터리)">2. 
폴더 구조 예시 및 규칙 (pages/ vs app/ 디렉터리)
</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#3._App_Router와_Pages_Router의_차이점" data-path="#3._App_Router와_Pages_Router의_차이점"><div class="tree-item-inner heading-link" heading-name="3. App Router와 Pages Router의 차이점">3. 
App Router와 Pages Router의 차이점
</div></a><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-item-self is-clickable" href="project/new-project/📍-next.js-page-router.html#4._커스텀_라우터_설정_`next.config.js`의_`rewrites`,_`redirects`,_`headers`" data-path="#4._커스텀_라우터_설정_`next.config.js`의_`rewrites`,_`redirects`,_`headers`"><div class="tree-item-inner heading-link" heading-name="4. 커스텀 라우터 설정: `next.config.js`의 `rewrites`, `redirects`, `headers`">4. 
커스텀 라우터 설정: next.config.js의 rewrites, redirects, headers
</div></a><div class="tree-item-children"></div></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>